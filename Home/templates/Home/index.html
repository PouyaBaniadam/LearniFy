{% extends 'base.html' %}
{% load filters %}
{% load static %}

{% block content %}
    <div class="flex flex-col min-h-screen bg-background">

        {% include 'includes/header.html' %}

        <main class="flex-auto py-5">
            <div class="space-y-14">
                <!-- container -->
                <div class="max-w-7xl space-y-14 px-4 mx-auto">

                    <!-- intro -->
                    <div class="bg-cover bg-center rounded-t-3xl relative overflow-hidden md:px-20 px-8 md:pt-20 pt-10 md:pb-48 pb-32"
                         style="background-image: url('{{ intro_banner.file.url }}');">
                        <div class="relative space-y-8 z-20">
                            <h2 class="font-black sm:text-5xl text-3xl text-white">
                                {{ intro_banner.title }}
                            </h2>
                            <p class="sm:text-base text-sm text-white">
                                {{ intro_banner.description|safe }}
                            </p>
                            <a href="{{ intro_banner.link }}" target="_blank"
                               class="inline-flex items-center justify-center gap-1 h-11 bg-primary rounded-full text-primary-foreground transition-all hover:opacity-80 px-4">
                                <span class="font-semibold text-sm">{{ intro_banner.button_text }}</span>
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                     class="w-5 h-5">
                                    <path fill-rule="evenodd"
                                          d="M14.78 14.78a.75.75 0 0 1-1.06 0L6.5 7.56v5.69a.75.75 0 0 1-1.5 0v-7.5A.75.75 0 0 1 5.75 5h7.5a.75.75 0 0 1 0 1.5H7.56l7.22 7.22a.75.75 0 0 1 0 1.06Z"
                                          clip-rule="evenodd"></path>
                                </svg>
                            </a>
                        </div>
                        <div class="absolute inset-0 bg-black/70"></div>
                        <figure class="absolute bottom-0 right-0 left-0 w-full md:block z-10">
                            <svg class="fill-background" width="100%" height="150" viewBox="0 0 500 150"
                                 preserveAspectRatio="none">
                                <path d="M0,150 L0,40 Q250,150 500,40 L580,150 Z"></path>
                            </svg>
                        </figure>
                    </div>
                    <!-- end intro -->

                    <!-- features -->
                    <div>
                        <!-- tabs container -->
                        <div class="space-y-10" x-data="{ activeTab: '{{ default_why_us_id }}'}">
                            <!-- tabs:list-container -->
                            <div class="flex justify-center">
                                <!-- tabs:list -->
                                <ul class="inline-flex gap-2 border-b border-border">

                                    {% for id, title, icon in why_us_part_1 %}
                                        <!-- tabs:list:item -->
                                        <li>
                                            <button type="button"
                                                    class="flex lg:flex-col items-center justify-center relative gap-3 border-b-4 py-2 px-4"
                                                    x-bind:class="activeTab === '{{ id }}' ? 'text-primary border-primary' : 'text-muted border-transparent'"
                                                    x-on:click="activeTab = '{{ id }}'">
                                                <!-- active icon -->
                                                <span x-bind:class="activeTab === '{{ id }}' ? 'text-primary' : 'text-muted'">
                                                    <img width="64px" height="64px" src="media/{{ icon }}" alt="Icon">
                                                </span>
                                                <!-- end active icon -->
                                                <span class="lg:block hidden font-semibold text-sm"
                                                      x-bind:class="activeTab === '{{ id }}' ? 'md:block' : ''">{{ title }}
                                                </span>
                                            </button>
                                        </li>
                                        <!-- end tabs:list:item -->
                                    {% endfor %}

                                </ul><!-- end tabs:list -->
                            </div><!-- end tabs:list-container -->

                            <!-- tabs:contents -->
                            <div class="bg-gradient-to-b from-secondary rounded-t-3xl max-w-4xl mx-auto p-10">

                                <!-- tabs:contents:id -->
                                {% for id, image, description in why_us_part_2 %}
                                    <div x-show="activeTab === '{{ id }}'">
                                        <div class="flex md:flex-nowrap flex-wrap items-center gap-10">
                                            <div class="md:w-9/12 w-full text-justify space-y-3">
                                                <p>
                                                    {{ description|safe }}
                                                </p>
                                            </div>
                                            <div class="md:w-3/12 w-full">
                                                <div class="w-full md:h-60 h-96 rounded-3xl overflow-hidden">
                                                    <img src="media/{{ image }}"
                                                         class="w-full h-full object-cover" alt="..."/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                                <!-- end tabs:contents:id -->


                            </div><!-- end tabs:contents -->
                        </div><!-- end tabs container -->
                    </div>
                    <!-- end features -->

                    {% if latest_video_courses %}
                        <!-- section:latest-courses -->
                        <div class="space-y-8">
                            <!-- section:title -->
                            <div class="flex items-center justify-between gap-8 bg-gradient-to-l from-secondary to-background rounded-2xl p-5">
                                <div class="flex items-center gap-5">
                                <span class="flex items-center justify-center w-12 h-12 bg-primary text-primary-foreground rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                         class="w-5 h-5">
                                        <path fill-rule="evenodd"
                                              d="M9.664 1.319a.75.75 0 0 1 .672 0 41.059 41.059 0 0 1 8.198 5.424.75.75 0 0 1-.254 1.285 31.372 31.372 0 0 0-7.86 3.83.75.75 0 0 1-.84 0 31.508 31.508 0 0 0-2.08-1.287V9.394c0-.244.116-.463.302-.592a35.504 35.504 0 0 1 3.305-2.033.75.75 0 0 0-.714-1.319 37 37 0 0 0-3.446 2.12A2.216 2.216 0 0 0 6 9.393v.38a31.293 31.293 0 0 0-4.28-1.746.75.75 0 0 1-.254-1.285 41.059 41.059 0 0 1 8.198-5.424ZM6 11.459a29.848 29.848 0 0 0-2.455-1.158 41.029 41.029 0 0 0-.39 3.114.75.75 0 0 0 .419.74c.528.256 1.046.53 1.554.82-.21.324-.455.63-.739.914a.75.75 0 1 0 1.06 1.06c.37-.369.69-.77.96-1.193a26.61 26.61 0 0 1 3.095 2.348.75.75 0 0 0 .992 0 26.547 26.547 0 0 1 5.93-3.95.75.75 0 0 0 .42-.739 41.053 41.053 0 0 0-.39-3.114 29.925 29.925 0 0 0-5.199 2.801 2.25 2.25 0 0 1-2.514 0c-.41-.275-.826-.541-1.25-.797a6.985 6.985 0 0 1-1.084 3.45 26.503 26.503 0 0 0-1.281-.78A5.487 5.487 0 0 0 6 12v-.54Z"
                                              clip-rule="evenodd"></path>
                                    </svg>
                                </span>
                                    <div class="flex flex-col font-black text-2xl space-y-2">
                                        <span class="font-black xs:text-2xl text-lg text-primary">آخرین دوره‌‌های ویدئویی</span>
                                        <span class="font-semibold xs:text-base text-sm text-foreground">منتشر شده</span>
                                    </div>
                                </div>
                                <a href="{% url 'course:all_video_courses' %}"
                                   class="sm:w-auto w-11 h-11 inline-flex items-center justify-center gap-1 bg-secondary rounded-full text-foreground transition-colors hover:text-primary sm:px-4">
                                    <span class="font-semibold text-sm sm:block hidden">مشاهده همه</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                         class="w-5 h-5">
                                        <path fill-rule="evenodd"
                                              d="M14.78 14.78a.75.75 0 0 1-1.06 0L6.5 7.56v5.69a.75.75 0 0 1-1.5 0v-7.5A.75.75 0 0 1 5.75 5h7.5a.75.75 0 0 1 0 1.5H7.56l7.22 7.22a.75.75 0 0 1 0 1.06Z"
                                              clip-rule="evenodd"></path>
                                    </svg>
                                </a>
                            </div>
                            <!-- end section:title -->

                            <!-- section:latest-courses:slider -->
                            <div class="swiper col3-swiper-slider">
                                <div class="swiper-wrapper">
                                    {% for course in latest_video_courses %}
                                        <!-- course:card -->
                                        <div class="swiper-slide">
                                            <div class="relative">
                                                <div class="relative z-10">
                                                    <a href="{% url 'course:video_course_detail' course.slug %}"
                                                       class="block">
                                                        <img src="media/{{ course.cover_image }}"
                                                             class="max-w-full rounded-3xl"
                                                             alt="{{ course.name }}"/>
                                                    </a>
                                                    <a href="{% url 'course:videos_by_category' course.category__slug %}"
                                                       class="absolute left-3 top-3 h-11 inline-flex items-center justify-center gap-1 bg-black/20 rounded-full text-white transition-all hover:opacity-80 px-4">
                                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                             fill="currentColor" class="w-6 h-6">
                                                            <path fill-rule="evenodd"
                                                                  d="M3 6a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3V6ZM3 15.75a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-2.25Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3v-2.25Z"
                                                                  clip-rule="evenodd"></path>
                                                        </svg>
                                                        <span class="font-semibold text-sm">{{ course.category__name }}</span>
                                                    </a>
                                                </div>
                                                <div class="bg-background rounded-b-3xl -mt-12 pt-12">
                                                    <div class="bg-gradient-to-b from-background to-secondary rounded-b-3xl space-y-2 p-5 mx-5">
                                                        {% if course.holding_status == "F" %}
                                                            <div class="flex items-center gap-2">
                                                                <span class="block w-1 h-1 bg-error rounded-full"></span>
                                                                <span class="font-bold text-xs text-red-500">{{ course.get_holding_status_display }}</span>
                                                            </div>
                                                        {% elif course.holding_status == "IP" %}
                                                            <div class="flex items-center gap-2">
                                                                <span class="block w-1 h-1 bg-success rounded-full"></span>
                                                                <span class="font-bold text-xs text-success">{{ course.get_holding_status_display }}</span>
                                                            </div>
                                                        {% elif course.holding_status == "NS" %}
                                                            <div class="flex items-center gap-2">
                                                                <span class="block w-1 h-1 bg-warning rounded-full"></span>
                                                                <span class="font-bold text-xs text-warning">{{ course.get_holding_status_display }}</span>
                                                            </div>
                                                        {% endif %}
                                                        <h2 class="font-bold text-sm">
                                                            <a href="{% url 'course:video_course_detail' course.slug %}"
                                                               class="line-clamp-1 text-foreground transition-colors hover:text-primary">{{ course.name }}</a>
                                                        </h2>
                                                    </div>
                                                    <div class="space-y-3 p-5">
                                                        <div class="flex flex-wrap items-center gap-3">
                                                            <p class="text-foreground text-sm font-bold">{{ course.what_we_will_learn|truncatechars:50 }}</p>
                                                        </div>
                                                        <div class="flex items-center justify-between gap-5">
                                                            <div class="flex items-center gap-3">

                                                                {% if course.teacher__image %}
                                                                    <div class="flex-shrink-0 w-10 h-10 rounded-full overflow-hidden">
                                                                        <img src="media/{{ course.teacher__image }}"
                                                                             class="w-full h-full object-cover"
                                                                             alt="مدرس دوره {{ course.name }}"/>
                                                                    </div>
                                                                {% else %}
                                                                    <div class="flex-shrink-0 w-10 h-10 rounded-full overflow-hidden">
                                                                        <img src="{% static 'images/avatars/teacher.JPG' %}"
                                                                             class="w-full h-full object-cover"
                                                                             alt="مدرس دوره {{ course.name }}"/>
                                                                    </div>
                                                                {% endif %}

                                                                <div class="flex flex-col items-start space-y-1">
                                                        <span class="line-clamp-1 font-semibold text-xs text-muted">مدرس
                                                            دوره:</span>
                                                                    <a href="{% url 'account:profile' course.teacher__slug %}"
                                                                       class="line-clamp-1 font-bold text-xs text-foreground hover:text-primary">{{ course.teacher__full_name }}</a>
                                                                </div>
                                                            </div>
                                                            <div class="flex flex-col items-end justify-center h-14">
                                                                {% if course.payment_type == "P" %}
                                                                    {% if course.has_discount %}
                                                                        <span class="line-through text-muted">{{ course.price|price_splitter }}</span>
                                                                        <span class="text-muted">{{ course.price_after_discount|price_splitter }} <span
                                                                                style="color: #1D4ED8;">تومان</span></span>
                                                                    {% else %}
                                                                        <span class="text-muted">{{ course.price|price_splitter }} <span
                                                                                style="color: #1D4ED8;">تومان</span></span>
                                                                    {% endif %}
                                                                {% else %}
                                                                    <span class="font-black text-xl text-success">رایگان!</span>
                                                                {% endif %}

                                                                {% if course.has_discount and course.type == "P" %}
                                                                    <div class="flex items-center gap-1">
                                                                        <span class="font-black text-xl text-foreground">{{ course.price_after_discount|price_splitter }}</span>
                                                                        <span class="text-xs text-muted"><span
                                                                                style="color: #1D4ED8;">تومان</span></span>
                                                                    </div>
                                                                {% endif %}

                                                            </div>
                                                        </div>
                                                        <div class="flex gap-3 mt-3">
                                                            <a href="{% url 'course:video_course_detail' course.slug %}"
                                                               class="w-full h-11 inline-flex items-center justify-center gap-1 bg-primary rounded-full text-primary-foreground transition-all hover:opacity-80 px-4">
                                                                <span class="line-clamp-1 font-semibold text-sm">مشاهده دوره</span>
                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                     viewBox="0 0 20 20"
                                                                     fill="currentColor" class="w-5 h-5">
                                                                    <path fill-rule="evenodd"
                                                                          d="M14.78 14.78a.75.75 0 0 1-1.06 0L6.5 7.56v5.69a.75.75 0 0 1-1.5 0v-7.5A.75.75 0 0 1 5.75 5h7.5a.75.75 0 0 1 0 1.5H7.56l7.22 7.22a.75.75 0 0 1 0 1.06Z"
                                                                          clip-rule="evenodd"></path>
                                                                </svg>
                                                            </a>

                                                            {% if request.user.is_authenticated %}
                                                                {% if course.id in favorite_video_courses %}
                                                                    <button type="button"
                                                                            class="add-video-to-favorites-btn flex-shrink-0 w-11 h-11 inline-flex items-center justify-center bg-secondary rounded-full text-muted transition-colors text-red-500"
                                                                            data-id="{{ course.id }}"
                                                                            data-user="{{ request.user }}">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                             viewBox="0 0 20 20"
                                                                             fill="currentColor" class="w-5 h-5">
                                                                            <path d="m9.653 16.915-.005-.003-.019-.01a20.759 20.759 0 0 1-1.162-.682 22.045 22.045 0 0 1-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 0 1 8-2.828A4.5 4.5 0 0 1 18 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 0 1-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 0 1-.69.001l-.002-.001Z">
                                                                            </path>
                                                                        </svg>
                                                                    </button>
                                                                {% else %}
                                                                    <button type="button"
                                                                            class="add-video-to-favorites-btn flex-shrink-0 w-11 h-11 inline-flex items-center justify-center bg-secondary rounded-full text-muted transition-colors hover:text-red-500"
                                                                            data-id="{{ course.id }}"
                                                                            data-user="{{ request.user }}">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                             viewBox="0 0 20 20"
                                                                             fill="currentColor" class="w-5 h-5">
                                                                            <path d="m9.653 16.915-.005-.003-.019-.01a20.759 20.759 0 0 1-1.162-.682 22.045 22.045 0 0 1-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 0 1 8-2.828A4.5 4.5 0 0 1 18 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 0 1-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 0 1-.69.001l-.002-.001Z">
                                                                            </path>
                                                                        </svg>
                                                                    </button>
                                                                {% endif %}
                                                            {% else %}
                                                                <button type="button"
                                                                        class="login-first flex-shrink-0 w-11 h-11 inline-flex items-center justify-center bg-secondary rounded-full text-muted transition-colors hover:text-red-500">
                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                         viewBox="0 0 20 20"
                                                                         fill="currentColor" class="w-5 h-5">
                                                                        <path d="m9.653 16.915-.005-.003-.019-.01a20.759 20.759 0 0 1-1.162-.682 22.045 22.045 0 0 1-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 0 1 8-2.828A4.5 4.5 0 0 1 18 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 0 1-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 0 1-.69.001l-.002-.001Z"></path>
                                                                    </svg>
                                                                </button>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- end course:card -->
                                    {% endfor %}
                                </div>

                                <div class="swiper-button-prev"></div>
                                <div class="swiper-button-next"></div>
                            </div>
                            <!-- end section:latest-courses:slider -->
                        </div>
                        <!-- end section:latest-courses -->
                    {% endif %}

                    {% comment %}
                    <!-- counseling -->
                    <div class="flex md:flex-nowrap flex-wrap items-start gap-10 py-14">
                        <div class="flex-grow space-y-8">
                            <div class="flex flex-col items-start space-y-3">
                                <span class="text-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                         stroke-width="1.5" stroke="currentColor" class="w-9 h-9">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                              d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"></path>
                                    </svg>
                                </span>
                                <h2 class="font-black text-3xl text-foreground">
                                    از انتخاب اشتباه <span class="text-primary">می‌ترسید؟</span>
                                </h2>
                            </div>
                            <div class="text-justify space-y-3">
                                <p class="font-medium text-muted">
                                    دلیل بسیاری از شکست‌ها و به نتیجه نرسیدن‌ها در یادگیری یک مهارت جدید مثل برنامه
                                    نویسی ،
                                    انتخاب اشتباه در ابتدای راه است.
                                </p>
                                <p class="font-bold text-foreground">
                                    بسیاری از افراد بدون در نظر گرفتن ویژگی‌های شخصیتی و اهداف شما، توصیه به یادگیری یک
                                    زبان
                                    برنامه نویسی خاص می‌کنند که هزینه‌های زمانی و مالی زیادی را به شما تحمیل می‌کند.
                                </p>
                                <p class="font-medium text-muted">
                                    انتخاب یک زبان برنامه نویسی درست یا مهارتی که در بازار کار برای شما ارزش آفرین باشد،
                                    کاملا وابسته به اهداف، دانش فعلی و ویژگی‌های شخصیتی شماست. ما با کمک هیئت علمی متخصص
                                    نابغه و با توجه به همین ویژگی‌ها بهترین گزینه را برای ورود به دنیای برنامه نویسی و
                                    طراحی
                                    وب یا هوش مصنوعی برای شما طراحی و پیشنهاد می‌کنیم
                                    با دوره الفبای برنامه نویسی، انتخاب درست برای ورود به دنیای برنامه نویسی را انجام
                                    دهید
                                </p>
                            </div>
                        </div>
                        <div class="flex-shrink-0 flex justify-center md:w-72 w-full">
                            <div class="space-y-3">
                                <img src="{% static "images/features/01.jpg" %}" class="w-72 max-w-full rounded-3xl"
                                     alt="..."/>
                                <a href="#"
                                   class="flex items-center justify-center gap-1 w-full h-11 bg-primary rounded-full text-primary-foreground transition-all hover:opacity-80 px-4">
                                    <span class="font-semibold text-sm">ورود آگاهانه به دنیای برنامه نویسی</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                         class="w-5 h-5">
                                        <path fill-rule="evenodd"
                                              d="M14.78 14.78a.75.75 0 0 1-1.06 0L6.5 7.56v5.69a.75.75 0 0 1-1.5 0v-7.5A.75.75 0 0 1 5.75 5h7.5a.75.75 0 0 1 0 1.5H7.56l7.22 7.22a.75.75 0 0 1 0 1.06Z"
                                              clip-rule="evenodd"></path>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                    <!-- end counseling -->
                    {% endcomment %}
                </div>
                <!-- end container -->

                {% if attitudes %}
                    <!-- feedback -->
                    <div class="overflow-x-hidden py-20">
                        <!-- container -->
                        <div class="max-w-7xl px-4 mx-auto">
                            <div class="md:grid md:grid-cols-12 md:gap-10 md:space-y-0 space-y-5">
                                <div class="md:col-span-4 flex items-center gap-5">
                                <span
                                        class="flex-shrink-0 flex items-center justify-center w-12 h-12 bg-primary text-primary-foreground rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                         class="w-5 h-5">
                                        <path fill-rule="evenodd"
                                              d="M9.664 1.319a.75.75 0 0 1 .672 0 41.059 41.059 0 0 1 8.198 5.424.75.75 0 0 1-.254 1.285 31.372 31.372 0 0 0-7.86 3.83.75.75 0 0 1-.84 0 31.508 31.508 0 0 0-2.08-1.287V9.394c0-.244.116-.463.302-.592a35.504 35.504 0 0 1 3.305-2.033.75.75 0 0 0-.714-1.319 37 37 0 0 0-3.446 2.12A2.216 2.216 0 0 0 6 9.393v.38a31.293 31.293 0 0 0-4.28-1.746.75.75 0 0 1-.254-1.285 41.059 41.059 0 0 1 8.198-5.424ZM6 11.459a29.848 29.848 0 0 0-2.455-1.158 41.029 41.029 0 0 0-.39 3.114.75.75 0 0 0 .419.74c.528.256 1.046.53 1.554.82-.21.324-.455.63-.739.914a.75.75 0 1 0 1.06 1.06c.37-.369.69-.77.96-1.193a26.61 26.61 0 0 1 3.095 2.348.75.75 0 0 0 .992 0 26.547 26.547 0 0 1 5.93-3.95.75.75 0 0 0 .42-.739 41.053 41.053 0 0 0-.39-3.114 29.925 29.925 0 0 0-5.199 2.801 2.25 2.25 0 0 1-2.514 0c-.41-.275-.826-.541-1.25-.797a6.985 6.985 0 0 1-1.084 3.45 26.503 26.503 0 0 0-1.281-.78A5.487 5.487 0 0 0 6 12v-.54Z"
                                              clip-rule="evenodd"></path>
                                    </svg>
                                </span>
                                    <div class="flex flex-col space-y-2">
                                    <span class="font-black xs:text-2xl text-lg text-primary">در مورد LearniFy چه
                                        میشنویم؟</span>
                                        <span class="font-semibold xs:text-base text-sm text-muted">این‌ها، بخش خیلی کوچکی
                                        از نظراتی
                                        هستند
                                        که افراد
                                        مختلف در مورد نابغه دارند.</span>
                                    </div>
                                </div>
                                <div class="md:col-span-8 w-full max-w-xl mx-auto">
                                    <div class="swiper card-swiper-slider">
                                        <div class="swiper-wrapper">
                                            {% for attitude in attitudes %}
                                                {% if attitude.user %}
                                                    <div class="swiper-slide pb-8">
                                                        <div class="flex flex-col items-center justify-center bg-background border border-border rounded-2xl shadow-xl shadow-black/5 space-y-8 p-8">
                                                            <div class="font-semibold text-sm text-muted text-center">{{ attitude.message }}
                                                            </div>
                                                            <div class="flex items-center gap-3">
                                                                <div class="flex-shrink-0 w-10 h-10 rounded-full overflow-hidden">
                                                                    {% if attitude.user.image %}
                                                                        <img src="{{ attitude.user.image.url }}"
                                                                             class="w-full h-full object-cover"
                                                                             alt="{{ attitude.useer.username }}">
                                                                    {% else %}
                                                                        <img src="{% static 'images/avatars/default_user.JPG' %}"
                                                                             class="w-full h-full object-cover"
                                                                             alt="{{ attitude.useer.username }}">
                                                                    {% endif %}
                                                                </div>
                                                                <div class="flex flex-col items-start space-y-1">
                                                        <span class="line-clamp-1 font-bold text-xs text-foreground">
                                                            {{ attitude.user.username }}
                                                        </span>
                                                                    <span class="font-semibold text-xs text-muted">
                                                            {{ attitude.created_at|j_date_formatter }}
                                                        </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                {% else %}
                                                    <div class="swiper-slide pb-8">
                                                        <div class="flex flex-col items-center justify-center bg-background border border-border rounded-2xl shadow-xl shadow-black/5 space-y-8 p-8">
                                                            <div class="font-semibold text-sm text-muted text-center">{{ attitude.message }}
                                                            </div>
                                                            <div class="flex items-center gap-3">
                                                                <div class="flex-shrink-0 w-10 h-10 rounded-full overflow-hidden">
                                                                    <img src="{% static 'images/avatars/author.JPG' %}"
                                                                         class="w-full h-full object-cover"
                                                                         alt="کاربر ناشناس">
                                                                </div>
                                                                <div class="flex flex-col items-start space-y-1">
                                                        <span class="line-clamp-1 font-bold text-xs text-foreground">
                                                            کاربر ناشناس
                                                        </span>
                                                                    <span class="font-semibold text-xs text-muted">
                                                            {{ attitude.created_at|j_date_formatter }}
                                                        </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>

                                        <div class="swiper-button-prev"></div>
                                        <div class="swiper-button-next"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- end container -->
                    </div>
                    <!-- end feedback -->
                {% endif %}

                <!-- container -->
                <div class="max-w-7xl space-y-14 px-4 mx-auto">
                    <!-- section:title -->
                    <div class="flex items-center justify-between gap-8 bg-gradient-to-l from-secondary to-background rounded-2xl p-5">
                        <div class="flex items-center gap-5">
                                <span class="flex items-center justify-center w-12 h-12 bg-primary text-primary-foreground rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                         class="w-5 h-5">
                                        <path fill-rule="evenodd"
                                              d="M9.664 1.319a.75.75 0 0 1 .672 0 41.059 41.059 0 0 1 8.198 5.424.75.75 0 0 1-.254 1.285 31.372 31.372 0 0 0-7.86 3.83.75.75 0 0 1-.84 0 31.508 31.508 0 0 0-2.08-1.287V9.394c0-.244.116-.463.302-.592a35.504 35.504 0 0 1 3.305-2.033.75.75 0 0 0-.714-1.319 37 37 0 0 0-3.446 2.12A2.216 2.216 0 0 0 6 9.393v.38a31.293 31.293 0 0 0-4.28-1.746.75.75 0 0 1-.254-1.285 41.059 41.059 0 0 1 8.198-5.424ZM6 11.459a29.848 29.848 0 0 0-2.455-1.158 41.029 41.029 0 0 0-.39 3.114.75.75 0 0 0 .419.74c.528.256 1.046.53 1.554.82-.21.324-.455.63-.739.914a.75.75 0 1 0 1.06 1.06c.37-.369.69-.77.96-1.193a26.61 26.61 0 0 1 3.095 2.348.75.75 0 0 0 .992 0 26.547 26.547 0 0 1 5.93-3.95.75.75 0 0 0 .42-.739 41.053 41.053 0 0 0-.39-3.114 29.925 29.925 0 0 0-5.199 2.801 2.25 2.25 0 0 1-2.514 0c-.41-.275-.826-.541-1.25-.797a6.985 6.985 0 0 1-1.084 3.45 26.503 26.503 0 0 0-1.281-.78A5.487 5.487 0 0 0 6 12v-.54Z"
                                              clip-rule="evenodd"></path>
                                    </svg>
                                </span>
                            <div class="flex flex-col font-black text-2xl space-y-2">
                                <span class="font-black xs:text-2xl text-lg text-primary">آخرین دوره‌‌های پی‌‌دی‌‌افی</span>
                                <span class="font-semibold xs:text-base text-sm text-foreground">منتشر شده</span>
                            </div>
                        </div>
                        <a href="{% url 'course:all_pdf_courses' %}"
                           class="sm:w-auto w-11 h-11 inline-flex items-center justify-center gap-1 bg-secondary rounded-full text-foreground transition-colors hover:text-primary sm:px-4">
                            <span class="font-semibold text-sm sm:block hidden">مشاهده همه</span>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                 class="w-5 h-5">
                                <path fill-rule="evenodd"
                                      d="M14.78 14.78a.75.75 0 0 1-1.06 0L6.5 7.56v5.69a.75.75 0 0 1-1.5 0v-7.5A.75.75 0 0 1 5.75 5h7.5a.75.75 0 0 1 0 1.5H7.56l7.22 7.22a.75.75 0 0 1 0 1.06Z"
                                      clip-rule="evenodd"></path>
                            </svg>
                        </a>
                    </div>
                    <!-- end section:title -->

                    <!-- section:latest-courses:slider -->
                    <div class="swiper col3-swiper-slider">
                        <div class="swiper-wrapper">
                            {% for course in latest_pdf_courses %}
                                <!-- course:card -->
                                <div class="swiper-slide">
                                    <div class="relative">
                                        <div class="relative z-10">
                                            <a href="{% url 'course:pdf_course_detail' course.slug %}"
                                               class="block">
                                                <img src="media/{{ course.cover_image }}"
                                                     class="max-w-full rounded-3xl"
                                                     alt="{{ course.name }}"/>
                                            </a>
                                            <a href="{% url 'course:pdfs_by_category' course.category__slug %}"
                                               class="absolute left-3 top-3 h-11 inline-flex items-center justify-center gap-1 bg-black/20 rounded-full text-white transition-all hover:opacity-80 px-4">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                     fill="currentColor" class="w-6 h-6">
                                                    <path fill-rule="evenodd"
                                                          d="M3 6a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3V6ZM3 15.75a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-2.25Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3v-2.25Z"
                                                          clip-rule="evenodd"></path>
                                                </svg>
                                                <span class="font-semibold text-sm">{{ course.category__name }}</span>
                                            </a>
                                        </div>
                                        <div class="bg-background rounded-b-3xl -mt-12 pt-12">
                                            <div class="bg-gradient-to-b from-background to-secondary rounded-b-3xl space-y-2 p-5 mx-5">
                                                {% if course.holding_status == "F" %}
                                                    <div class="flex items-center gap-2">
                                                        <span class="block w-1 h-1 bg-error rounded-full"></span>
                                                        <span class="font-bold text-xs text-red-500">تکمیل شده</span>
                                                    </div>
                                                {% elif course.holding_status == "IP" %}
                                                    <div class="flex items-center gap-2">
                                                        <span class="block w-1 h-1 bg-success rounded-full"></span>
                                                        <span class="font-bold text-xs text-success">در حال برگزاری</span>
                                                    </div>
                                                {% elif course.holding_status == "NS" %}
                                                    <div class="flex items-center gap-2">
                                                        <span class="block w-1 h-1 bg-warning rounded-full"></span>
                                                        <span class="font-bold text-xs text-warning">هنوز شروع نشده</span>
                                                    </div>
                                                {% endif %}
                                                <h2 class="font-bold text-sm">
                                                    <a href="{% url 'course:pdf_course_detail' course.slug %}"
                                                       class="line-clamp-1 text-foreground transition-colors hover:text-primary">{{ course.name }}</a>
                                                </h2>
                                            </div>
                                            <div class="space-y-3 p-5">
                                                <div class="flex flex-wrap items-center gap-3">
                                                    <p class="text-foreground text-sm font-bold">{{ course.what_we_will_learn|truncatechars:50 }}</p>
                                                </div>
                                                <div class="flex items-center justify-between gap-5">
                                                    <div class="flex items-center gap-3">

                                                        {% if course.teacher__image %}
                                                            <div class="flex-shrink-0 w-10 h-10 rounded-full overflow-hidden">
                                                                <img src="media/{{ course.teacher__image }}"
                                                                     class="w-full h-full object-cover"
                                                                     alt="مدرس دوره {{ course.name }}"/>
                                                            </div>
                                                        {% else %}
                                                            <div class="flex-shrink-0 w-10 h-10 rounded-full overflow-hidden">
                                                                <img src="{% static 'images/avatars/teacher.JPG' %}"
                                                                     class="w-full h-full object-cover"
                                                                     alt="مدرس دوره {{ course.name }}"/>
                                                            </div>
                                                        {% endif %}

                                                        <div class="flex flex-col items-start space-y-1">
                                                        <span class="line-clamp-1 font-semibold text-xs text-muted">مدرس
                                                            دوره:</span>
                                                            <a href="{% url 'account:profile' course.teacher__slug %}"
                                                               class="line-clamp-1 font-bold text-xs text-foreground hover:text-primary">{{ course.teacher__full_name }}</a>
                                                        </div>
                                                    </div>
                                                    <div class="flex flex-col items-end justify-center h-14">
                                                        {% if course.payment_type == "P" %}
                                                            {% if course.has_discount %}
                                                                <span class="line-through text-muted">{{ course.price|price_splitter }}</span>
                                                                <span class="text-muted">{{ course.price_after_discount|price_splitter }} <span
                                                                        style="color: #1D4ED8;">تومان</span></span>
                                                            {% else %}
                                                                <span class="text-muted">{{ course.price|price_splitter }} <span
                                                                        style="color: #1D4ED8;">تومان</span></span>
                                                            {% endif %}
                                                        {% else %}
                                                            <span class="font-black text-xl text-success">رایگان!</span>
                                                        {% endif %}

                                                        {% if course.has_discount and course.type == "P" %}
                                                            <div class="flex items-center gap-1">
                                                                <span class="font-black text-xl text-foreground">{{ course.price_after_discount|price_splitter }}</span>
                                                                <span class="text-xs text-muted"><span
                                                                        style="color: #1D4ED8;">تومان</span></span>
                                                            </div>
                                                        {% endif %}

                                                    </div>
                                                </div>
                                                <div class="flex gap-3 mt-3">
                                                    <a href="{% url 'course:pdf_course_detail' course.slug %}"
                                                       class="w-full h-11 inline-flex items-center justify-center gap-1 bg-primary rounded-full text-primary-foreground transition-all hover:opacity-80 px-4">
                                                        <span class="line-clamp-1 font-semibold text-sm">مشاهده دوره</span>
                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                             viewBox="0 0 20 20"
                                                             fill="currentColor" class="w-5 h-5">
                                                            <path fill-rule="evenodd"
                                                                  d="M14.78 14.78a.75.75 0 0 1-1.06 0L6.5 7.56v5.69a.75.75 0 0 1-1.5 0v-7.5A.75.75 0 0 1 5.75 5h7.5a.75.75 0 0 1 0 1.5H7.56l7.22 7.22a.75.75 0 0 1 0 1.06Z"
                                                                  clip-rule="evenodd"></path>
                                                        </svg>
                                                    </a>

                                                    {% if request.user.is_authenticated %}
                                                        {% if course.id in favorite_pdf_courses %}
                                                            <button type="button"
                                                                    class="add-pdf-to-favorites-btn flex-shrink-0 w-11 h-11 inline-flex items-center justify-center bg-secondary rounded-full text-muted transition-colors text-red-500"
                                                                    data-id="{{ course.id }}"
                                                                    data-user="{{ request.user }}">
                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                     viewBox="0 0 20 20"
                                                                     fill="currentColor" class="w-5 h-5">
                                                                    <path d="m9.653 16.915-.005-.003-.019-.01a20.759 20.759 0 0 1-1.162-.682 22.045 22.045 0 0 1-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 0 1 8-2.828A4.5 4.5 0 0 1 18 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 0 1-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 0 1-.69.001l-.002-.001Z">
                                                                    </path>
                                                                </svg>
                                                            </button>
                                                        {% else %}
                                                            <button type="button"
                                                                    class="add-pdf-to-favorites-btn flex-shrink-0 w-11 h-11 inline-flex items-center justify-center bg-secondary rounded-full text-muted transition-colors hover:text-red-500"
                                                                    data-id="{{ course.id }}"
                                                                    data-user="{{ request.user }}">
                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                     viewBox="0 0 20 20"
                                                                     fill="currentColor" class="w-5 h-5">
                                                                    <path d="m9.653 16.915-.005-.003-.019-.01a20.759 20.759 0 0 1-1.162-.682 22.045 22.045 0 0 1-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 0 1 8-2.828A4.5 4.5 0 0 1 18 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 0 1-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 0 1-.69.001l-.002-.001Z">
                                                                    </path>
                                                                </svg>
                                                            </button>
                                                        {% endif %}
                                                    {% else %}
                                                        <button type="button"
                                                                class="login-first flex-shrink-0 w-11 h-11 inline-flex items-center justify-center bg-secondary rounded-full text-muted transition-colors hover:text-red-500">
                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                 viewBox="0 0 20 20"
                                                                 fill="currentColor" class="w-5 h-5">
                                                                <path d="m9.653 16.915-.005-.003-.019-.01a20.759 20.759 0 0 1-1.162-.682 22.045 22.045 0 0 1-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 0 1 8-2.828A4.5 4.5 0 0 1 18 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 0 1-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 0 1-.69.001l-.002-.001Z"></path>
                                                            </svg>
                                                        </button>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- end course:card -->
                            {% endfor %}
                        </div>

                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                    </div>
                    <!-- end section:latest-courses:slider -->

                </div>
                <!-- end container -->
            </div>
        </main>
        {% include 'includes/footer.html' %}
    </div>

{% endblock %}
